\chapter{Anàlisi de resultats}
\label{chapter:results}
En aquest capítol es mostren les principals proves realitzades per cadascuna de les tres parts del sistema que hem descrit als capítols anteriors




%%%% REFERENCE SEARCH %%%%
\section{Cerca de referències}
En primer lloc provarem com de bé ho fa el sistema a l'hora de cercar pàgines a Internet que continguin informació sobre un article concret. Els tests que hem dut a terme consisteixen en els passos següents:
\begin{enumerate}
\item{Obtenir una sèrie de consultes d'un llistat de documents PDF}
\item{Cercar cadascuna de les consultes amb: \textit{Google}, \textit{Bing} i \textit{Yahoo}}
\item{Per cadascun dels resultats obtinguts, analitzem si és bo o no}
\item{Comptabilitzem el número de consultes que han fet falta per obtenir el primer \textit{bon} resultat}
\end{enumerate}

Noteu que per tal classificar els resultats en bons i dolents nomes comprovem si part de la informació que volem es troba dins de la pàgina resultant. Aquesta no és una solució perfecta, però ens permet fer una aproximació sobre la quantitat de fitxers pels quals en podem trobar la referència.

\paragraph{}
Una altra qüestió sobre la implementació dels tests, és que els resultats obtinguts se solen repetir entre consultes del mateix article. Per estalviar temps i evitar fer moltes peticions seguides als mateixos servidors (que podrien resultar en un bloqueig), deixem uns segons entre petició i petició i emmagatzemem cada resultat de manera que només l'haguem de demanar una sola vegada. A més, en molts casos els resultats corresponen al mateix fitxer PDF del qual estem buscant informació i els hem d'ometre.

\paragraph{}
Les proves s'han realitzat per conjunts d'articles diferents agrupats depenent la seva capçalera, que és el que pot fer variar més els resultats obtinguts, i un últim grup amb articles de qualsevol tipus. Els gràfics de les figures \ref{fig:results:random-reslen} i \ref{fig:results:random-fqlen} a mostren els resultats d'aquest últim conjunt.
\begin{figure}[!ht]
\begin{center}
\includegraphics[width=0.9\textwidth]{figures/results:random-reslen.pdf}
\includegraphics[scale=0.8]{figures/results:search-legend.pdf}
\caption{Comparació de la qualitat dels resultats obtinguts segons la llargada de les consultes}
\label{fig:results:random-reslen}
\end{center}
\end{figure}

\paragraph{}
Tot i que en algunes ocasions els resultats bons retornats per \textit{Bing} o \textit{Yahoo} són superiors en nombre, en general, el cercador \textit{Google} ofereix major cobertura amb resultats sobre més articles.



\begin{figure}[!ht]
\begin{center}
\includegraphics[width=0.9\textwidth]{figures/results:random-fqlen.pdf}
\includegraphics[scale=0.8]{figures/results:search-legend.pdf}
\caption{Comparació del número de consultes necessàries abans de trobar bons resultats}
\label{fig:results:random-fqlen}
\end{center}
\end{figure}

\paragraph{}
Finalment, respecte les consultes veiem que com mes llargues són, el número de cerques que hem de fer per començar a obtenir bons resultats disminueix. De totes maneres, tal i com ja s'ha dit a la secció \ref{chapter:search:skip-queries}, per és bo que ens saltem les primeres consultes per evitar cercar amb el títol de l'article.








%%%% WRAPPER INDUCTION %%%%
\section{Generació de \textit{wrappers}}
\label{chapter:results:section:wrapperinduction}
Per provar aquesta part del sistema, hem creat conjunts de pàgines web amb informació d'articles diferents i amb la referència corresponent. Les pàgines que inclou un grup corresponen totes a la mateixa biblioteca digital. Per cadascun d'aquests conjunts hem importat les referències i hem donat l'ordre al sistema de generar els \textit{wrappers} pels camps de cada biblioteca. Les mostres no són significatives, però ens donen una idea per poder quantificar com de bé funciona l'aplicació dins l'entorn pel qual està pensat.

\paragraph{}
Els resultats d'aquestes proves corresponen a les puntuacions rebudes durant l'avaluació dels \textit{wrappers} i que permeten marcar un ordre d'elecció inicial a l'hora d'extreure referències. Com que de moment encara no hem fet proves amb pàgines que no s'han emprat per la generació (ho farem a la propera secció), les gràfiques no estan generats segons la correctesa dels resultats dels \textit{wrappers} sinó la \textit{confiança} que tenim en que funcionin.

\paragraph{}
Hem classificat els \textit{wrappers} generats segons quatre grups de confiança, depenent de la puntuació rebuda. La línia fosca correspon al percentatge de les biblioteques digitals per les quals hem obtingut almenys un \textit{wrapper} de confiança màxima. La línia clara indica el mateix percentatge, però corresponent al següent interval de confiança. Els dos intervals més baixos s'han omès.

\paragraph{}
Cal remarcar que el fet que per una biblioteca no s'hagi pogut obtenir un \textit{wrapper} que funcioni en tots els casos, no significa que no siguem capaços d'extreure la informació. Tal i com hem vist a la secció \ref{chapter:refextraction:section:fieldwrappers}, a l'hora d'extreure un camp, es prova més d'un \textit{wrapper}. Per tant, el que ens interessa més veure d'aquestes gràfiques, és la suma dels valors de les dues sèries, que està marcat amb una línia discontinua de gris molt clar.


\paragraph{}
Com ja s'ha comentat, els camps obligatoris que han de contenir les referències d'articles són: \textit{author}, \textit{title}, \textit{journal} i \textit{year}. A continuació es mostra la confiança que tenim en els \textit{wrappers} per dos d'aquests camps, la informació sobre la resta es poden trobar a l'apèndix \ref{appendix:results:section:wrapperinduction}.

\begin{figure}[Ht]
\begin{center}
\includegraphics[width=0.8\textwidth]{figures/results:nwrappers-2.pdf}
\caption{Nombre de \textit{Wrappers} generats utilitzant 2 exemples i agrupats per confiança}
\label{fig:results:nwrappers-2}
\end{center}
\end{figure}

\begin{figure}[Ht]
\begin{center}
\includegraphics[width=0.8\textwidth]{figures/results:nwrappers-4.pdf}
\caption{Nombre de \textit{Wrappers} generats utilitzant 4 exemples i agrupats per confiança}
\label{fig:results:nwrappers-4}
\end{center}
\end{figure}

\begin{figure}[Ht]
\begin{center}
\includegraphics[width=0.8\textwidth]{figures/results:coverage-journal.pdf}
\caption{Cobertura dels \textit{wrappers} pel camp \textit{journal}}
\label{fig:results:coverage-journal}
\end{center}
\end{figure}

\begin{figure}[Ht]
\begin{center}
\includegraphics[width=0.8\textwidth]{figures/results:coverage-year.pdf}
\caption{Cobertura dels \textit{wrappers} pel camp \textit{year}}
\label{fig:results:coverage-year}
\end{center}
\end{figure}

\paragraph{}
El camp corresponent a l'any és interessant perquè moltes de les pàgines que hem provat contenen múltiples aparicions del valor que busquem, tot i que no sempre descriuen l'any de publicació, sinó la data de revisió, la data a partir de la qual l'article es troba a Internet, \textit{copyright}, etc.
Aquest tipus de confusions també són habituals en aquelles ocasions en què, a més de la informació de l'article, les pàgines inclouen el llistat d'articles als quals la publicació fa referència o bé la llista d'articles que el citen. Quan comencem a tenir exemples on aquests camps tenen valors diferents, al fer \textit{merging} de patrons s'acaben escollint els que són realment vàlids. 

\paragraph{}
Altres camps pels quals es té més dificultat per generar \textit{wrappers} són aquells el valor dels quals consisteix en números petits, com ara el número de volum o de revista \textit{number}. El motiu és el mateix, hi ha moltes aparicions del mateix valor, però que no fan referència al camp que busquem.


%%%% REFERENCE EXTRACTION %%%%
\section{Extracció de referències}
Anem a veure ara com de bé ho fan els \textit{wrappers} generats a la secció anterior.

\paragraph{}
Recordem que només s'aplicaran els \textit{field wrappers} generats si no hi ha cap \textit{reference wrapper} disponible o bé si no s'han obtingut resultats a l'aplicar-lo.

\begin{figure}[Ht]
\begin{center}
\includegraphics[width=0.8\textwidth]{figures/results:extraction-2.pdf}
\caption{Camps extrets amb els \textit{wrappers} generats amb 2 exemples}
\label{fig:results:extraction-2}
\end{center}
\end{figure}

\begin{figure}[Ht]
\begin{center}
\includegraphics[width=0.8\textwidth]{figures/results:extraction-4.pdf}
\caption{Camps extrets amb els \textit{wrappers} generats amb 4 exemples}
\label{fig:results:extraction-4}
\end{center}
\end{figure}

Pel que fa a al resta de camps que no es mostren als gràfics, com ara el número de volum, les pàgines, etc. els resultats són molt similars.

\begin{figure}[Ht]
\begin{center}
\includegraphics[width=0.8\textwidth]{figures/results:extraction-corrected.pdf}
\caption{Camps extrets per la biblioteca \textit{InformaWorld} després de corregir els \textit{wrappers}}
\label{fig:results:extraction-4}
\end{center}
\end{figure}

